<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sal√≥n Priscy ‚Äî Color, Corte y Estilo</title>
  <meta name="description" content="Sal√≥n de peluquer√≠a en Maip√∫. Trabajos reales y reserva por WhatsApp. El nivel que mereces, cerca de ti.">
  <meta name="theme-color" content="#6b21a8">
  <meta name="color-scheme" content="light">
  <link rel="icon" href="logo.svg" type="image/svg+xml">

  <!-- Tipograf√≠as (Manrope + DM Serif Display) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;800&family=DM+Serif+Display:ital,wght@0,400;1,400&display=swap" rel="stylesheet">

  <link rel="preload" href="styles.css" as="style">
  <link rel="stylesheet" href="styles.css">

  <!-- Cargador secuencial de im√°genes con fallbacks -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const loadSequential = (img, list) => {
        const seen = new Set(), variants = [];
        list.forEach(p => [p, p.normalize('NFD'), p.normalize('NFC')].forEach(v => {
          if(!seen.has(v)){ seen.add(v); variants.push(v); }
        }));
        let i = 0;
        const tryNext = () => { if (i < variants.length){ img.onerror = tryNext; img.src = variants[i++]; } };
        tryNext();
      };
      document.querySelectorAll('img[data-sources]').forEach(img => {
        try { loadSequential(img, JSON.parse(img.getAttribute('data-sources'))); } catch {}
      });
    });
  </script>
</head>
<body>
  <a class="skip-link" href="#contenido">Saltar al contenido</a>

  <header class="site-header" role="banner">
    <div class="container header-inner">
      <a class="brand" href="#hero" aria-label="Ir al inicio">
        <img src="logo.svg" alt="Sal√≥n Priscy">
      </a>

      <nav class="main-nav" aria-label="principal">
        <button class="nav-toggle" aria-controls="menu" aria-expanded="false">
          <span class="sr-only">Abrir men√∫</span> ‚ò∞
        </button>
        <ul id="menu" class="nav-list">
          <li><a class="nav-pill" href="#servicios">Servicios</a></li>
          <li><a class="nav-pill" href="#ubicacion">Ubicaci√≥n</a></li>
          <li>
            <a class="nav-pill"
               href="https://wa.me/56986768075?text=Hola%20Priscy%2C%20quiero%20agendar%20una%20hora."
               target="_blank" rel="noopener">
              Agendar
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="contenido">
    <!-- HERO -->
    <section id="hero" class="hero" aria-label="Portada">
      <div class="hero__bg" aria-hidden="true"></div>
      <div class="container hero-inner">
        <h1><span class="highlight">El nivel que mereces</span>, cerca de ti</h1>
        <p class="lead">Reserva por WhatsApp en 3 pasos. Atenci√≥n cercana, resultados de alto nivel.</p>
        <div class="cta-row">
          <a
            class="btn btn--lg btn--whatsapp"
            href="https://wa.me/56986768075?text=Hola%20Priscy%2C%20quisiera%20agendar%20%5Bservicio%5D%20para%20%5Bfecha%5D%20a%20las%20%5Bhora%5D.%0ANombre%3A%20%5Btu%20nombre%5D."
            target="_blank" rel="noopener" aria-label="Agendar por WhatsApp">
            Agendar por WhatsApp
          </a>
          <a class="btn btn--lg btn--instagram"
             href="https://www.instagram.com/salon_priscy/" target="_blank" rel="noopener"
             aria-label="Ver trabajos en Instagram">
            Instagram
          </a>
        </div>
      </div>
    </section>

    <!-- SERVICIOS + TRABAJOS (Carrusel infinito) -->
    <section id="servicios" class="section" aria-labelledby="servicios-title">
      <div class="container">
        <h2 id="servicios-title">Servicios y trabajos</h2>
        <p class="muted">
          Si quieres ver m√°s trabajos visita nuestro
          <a href="https://www.instagram.com/salon_priscy/" target="_blank" rel="noopener">instagram</a>.
        </p>

        <div class="work-carousel">
          <button class="caro-btn caro-prev" type="button" aria-label="Ver anterior">‚Äπ</button>

          <div class="work-track" role="list" tabindex="0" aria-label="Carrusel de servicios">
            <!-- CORTES -->
            <article class="work-card" role="listitem">
              <figure class="work-media skeleton">
                <img alt="Corte de cabello ‚Äî terminaci√≥n pulida en capas largas"
                     loading="lazy"
                     data-sources='["img/cortes.jpg","img/corte.jpg","img/cortes.jpeg","img/corte.jpeg"]'>
              </figure>
              <div class="work-overlay">
                <div class="work-text">
                  <h3 class="work-title">Cortes</h3>
                  <p class="work-sub">20 a 30 minutos</p>
                </div>
                <a class="btn btn--sm btn--accent work-cta"
                   href="https://wa.me/56986768075?text=Hola%20Priscy%2C%0AQuiero%20agendar%3A%20Cortes.%0AFecha%3A%20%5Bfecha%5D%0AHora%3A%20%5Bhora%5D%0ANombre%3A%20%5Btu%20nombre%5D."
                   target="_blank" rel="noopener" aria-label="Agendar cortes por WhatsApp">
                  Agendar
                </a>
              </div>
            </article>

            <!-- COLORACI√ìN E HIDRATACI√ìN -->
            <article class="work-card" role="listitem">
              <figure class="work-media skeleton">
                <img alt="Coloraci√≥n e hidrataci√≥n ‚Äî brillo y suavidad"
                     loading="lazy"
                     data-sources='[
                      "img/coloracion-hidratacion.jpg",
                      "img/coloracion-hidratacion.jpeg",
                      "img/coloraci√≥n e hidrataci√≥n.jpg",
                      "img/coloraci√≥n e hidrataci√≥n.jpeg"
                     ]'>
              </figure>
              <div class="work-overlay">
                <div class="work-text">
                  <h3 class="work-title one-line">Coloraci√≥n e hidrataci√≥n</h3>
                  <p class="work-sub">2 horas aproximadamente</p>
                </div>
                <a class="btn btn--sm btn--accent work-cta"
                   href="https://wa.me/56986768075?text=Hola%20Priscy%2C%0AQuiero%20agendar%3A%20Coloraci%C3%B3n%20e%20hidrataci%C3%B3n%20%282%20horas%20aprox%29.%0AFecha%3A%20%5Bfecha%5D%0AHora%3A%20%5Bhora%5D%0ANombre%3A%20%5Btu%20nombre%5D."
                   target="_blank" rel="noopener" aria-label="Agendar coloraci√≥n e hidrataci√≥n por WhatsApp">
                  Agendar
                </a>
              </div>
            </article>

            <!-- NANO BOTOX (NUEVO) -->
            <article class="work-card" role="listitem">
              <figure class="work-media skeleton">
                <img alt="Nano botox capilar ‚Äî sellado y brillo en media melena"
                     loading="lazy"
                     data-sources='[
                      "img/nanobotox.jpg",
                      "img/nanobotox.jpeg",
                      "img/nano-botox.jpg",
                      "img/nano-botox.jpeg",
                      "img/WhatsApp Image 2025-09-12 at 22.53.36.jpeg"
                     ]'>
              </figure>
              <div class="work-overlay">
                <div class="work-text">
                  <h3 class="work-title">Nano botox</h3>
                  <p class="work-sub">2 horas y media aproximadamente</p>
                </div>
                <a class="btn btn--sm btn--accent work-cta"
                   href="https://wa.me/56986768075?text=Hola%20Priscy%2C%0AQuiero%20agendar%3A%20Nano%20botox%20%282.5%20horas%20aprox%29.%0AFecha%3A%20%5Bfecha%5D%0AHora%3A%20%5Bhora%5D%0ANombre%3A%20%5Btu%20nombre%5D."
                   target="_blank" rel="noopener" aria-label="Agendar nano botox por WhatsApp">
                  Agendar
                </a>
              </div>
            </article>

            <!-- BALAYAGE -->
            <article class="work-card" role="listitem">
              <figure class="work-media skeleton">
                <img alt="Balayage rubio ‚Äî ondas suaves en cabello largo"
                     loading="lazy"
                     data-sources='["img/balayage.jpg","img/balayage.jpeg"]'>
              </figure>
              <div class="work-overlay">
                <div class="work-text">
                  <h3 class="work-title">Balayage</h3>
                  <p class="work-sub">5‚Äì6 horas aproximadamente</p>
                </div>
                <a class="btn btn--sm btn--accent work-cta"
                   href="https://wa.me/56986768075?text=Hola%20Priscy%2C%0AQuiero%20agendar%3A%20Balayage%20%285-6%20horas%20aprox%29.%0AFecha%3A%20%5Bfecha%5D%0AHora%3A%20%5Bhora%5D%0ANombre%3A%20%5Btu%20nombre%5D."
                   target="_blank" rel="noopener" aria-label="Agendar balayage por WhatsApp">
                  Agendar
                </a>
              </div>
            </article>

            <!-- MECHAS -->
            <article class="work-card" role="listitem">
              <figure class="work-media skeleton">
                <img alt="Mechas finas ‚Äî resultado brillante"
                     loading="lazy"
                     data-sources='["img/mechas.jpg","img/mechas.jpeg"]'>
              </figure>
              <div class="work-overlay">
                <div class="work-text">
                  <h3 class="work-title">Mechas</h3>
                  <p class="work-sub">1 hora</p>
                </div>
                <a class="btn btn--sm btn--accent work-cta"
                   href="https://wa.me/56986768075?text=Hola%20Priscy%2C%0AQuiero%20agendar%3A%20Mechas%20%281%20hora%29.%0AFecha%3A%20%5Bfecha%5D%0AHora%3A%20%5Bhora%5D%0ANombre%3A%20%5Btu%20nombre%5D."
                   target="_blank" rel="noopener" aria-label="Agendar mechas por WhatsApp">
                  Agendar
                </a>
              </div>
            </article>
          </div>

          <button class="caro-btn caro-next" type="button" aria-label="Ver siguiente">‚Ä∫</button>
        </div>
      </div>
    </section>

    <!-- UBICACI√ìN -->
    <section id="ubicacion" class="section" aria-labelledby="ubicacion-title">
      <div class="container">
        <h2 id="ubicacion-title">Nuestra ubicaci√≥n</h2>

        <address class="address">
          <p class="muted-strong"><strong>Direcci√≥n:</strong> <span>pasaje Las Garzas 985, Maip√∫</span></p>
          <p class="muted-strong">Atenci√≥n con reserva previa.</p>
          <p class="address-links">
            <a class="btn btn--ghost"
               href="https://www.google.com/maps?q=pasaje+Las+Garzas+985,+Maip%C3%BA"
               target="_blank" rel="noopener">Abrir en Google Maps</a>
            <a class="btn btn--ghost"
               href="https://www.google.com/maps/dir/?api=1&destination=pasaje+Las+Garzas+985,+Maip%C3%BA"
               target="_blank" rel="noopener">C√≥mo llegar</a>
          </p>
        </address>

        <div class="map-wrap">
          <iframe
            title="Mapa de ubicaci√≥n Sal√≥n Priscy"
            src="https://www.google.com/maps?q=pasaje+Las+Garzas+985,+Maip%C3%BA&output=embed"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            allowfullscreen>
          </iframe>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container footer-inner">
      <small>¬© <span id="year"></span> Sal√≥n Priscy. Todos los derechos reservados.</small>
    </div>
  </footer>

  <!-- Bot√≥n flotante de WhatsApp -->
  <a class="fab-whatsapp"
     href="https://wa.me/56986768075?text=Hola%20Priscy%2C%20quisiera%20agendar."
     target="_blank" rel="noopener" aria-label="Agendar por WhatsApp (flotante)">
    <span aria-hidden="true">üí¨</span>
  </a>

  <script>
    // A√±o autom√°tico
    document.getElementById('year').textContent = new Date().getFullYear();

    // Men√∫ responsive accesible
    const toggle = document.querySelector('.nav-toggle');
    const menu   = document.getElementById('menu');
    if (toggle && menu) {
      toggle.addEventListener('click', () => {
        const expanded = toggle.getAttribute('aria-expanded') === 'true';
        toggle.setAttribute('aria-expanded', String(!expanded));
        menu.classList.toggle('open');
      });
    }

    // Suavizar scroll en enlaces internos
    document.querySelectorAll('a[href^="#"]').forEach(a => {
      a.addEventListener('click', e => {
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if (target) { e.preventDefault(); target.scrollIntoView({ behavior: 'smooth' }); }
      });
    });

    // Skeleton: se quita al cargar la imagen
    document.querySelectorAll('.work-media.skeleton > img').forEach(img => {
      if (img.complete) img.parentElement.classList.remove('skeleton');
      else img.addEventListener('load', () => img.parentElement.classList.remove('skeleton'), { once:true });
    });

    // === Carrusel infinito (loop) ===
    (function(){
      const track = document.querySelector('.work-track');
      const prev  = document.querySelector('.caro-prev');
      const next  = document.querySelector('.caro-next');
      if(!track || !prev || !next) return;

      const gap = ()=> parseFloat(getComputedStyle(track).gap || getComputedStyle(track).columnGap || 18);
      const step = ()=>{
        const card = track.querySelector('.work-card');
        return card ? Math.round(card.getBoundingClientRect().width + gap()) : 320;
      };

      // Clonar extremos
      const originals = Array.from(track.querySelectorAll('.work-card'));
      const CLONES = Math.min(3, originals.length);
      const before = originals.slice(-CLONES).map(n=>n.cloneNode(true));
      const after  = originals.slice(0,  CLONES).map(n=>n.cloneNode(true));
      before.forEach(n=>track.insertBefore(n, track.firstChild));
      after.forEach(n=>track.appendChild(n));

      let index = CLONES;

      const jumpTo = (i)=>{
        const prevBehavior = track.style.scrollBehavior;
        track.style.scrollBehavior = 'auto';
        track.scrollLeft = i * step();
        track.style.scrollBehavior = prevBehavior;
      };

      const go = dir => track.scrollBy({ left: dir * step(), behavior:'smooth' });

      requestAnimationFrame(()=>jumpTo(index));

      let t;
      track.addEventListener('scroll', ()=>{
        clearTimeout(t);
        t = setTimeout(()=>{
          const w = step();
          const total = originals.length;
          const clones = CLONES;
          const current = Math.round(track.scrollLeft / w);

          if (current <= clones - 1){
            index = clones + total - 1;
            jumpTo(index);
          } else if (current >= clones + total){
            index = clones;
            jumpTo(index);
          } else {
            index = current;
          }
        }, 90);
      });

      prev.addEventListener('click', ()=>go(-1));
      next.addEventListener('click', ()=>go(1));

      track.addEventListener('keydown', e=>{
        if(e.key==='ArrowRight'){ e.preventDefault(); go(1); }
        if(e.key==='ArrowLeft'){  e.preventDefault(); go(-1); }
      });

      window.addEventListener('resize', ()=>jumpTo(index));
    })();
  </script>
</body>
</html>
